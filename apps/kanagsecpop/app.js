function getKanagawa() {
  return require("heatshrink").decompress(atob("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"));
}



Graphics.prototype.setFontDarumadropOneRegular = function () {
  // Actual height 36 (42 - 7)
  return this.setFontCustom(
    E.toString(require('heatshrink').decompress(atob('ACHwAol+Aokf4AFDg4SEgP8CQl/AokPwASEJT1wAol8G4oxEv5KEn5KEn//CIn/DAYFF/4FJgILKDoQpDBY4FDj//TIcH//gDAilEn6rFAokAC4gAah/4AohLEAoIMDAoIMDKIP/UIUDAoP+QQgSDAoQfCOwISDOwOPCQQkBBwJgBEgOAIoZ8BgIYCn4PBcAQPCj4+BgYPBh7gBHoPAEIIYC+AICB4ISBVQQPB4F/GIf+JQoABN4i9DAoSxCCQR8CCQSPDOAJDBSoYFDGQTbEar4AJRgV8KAQwBn58CJwMPSokDJYS0BBAQeB8Z2DQQYYBQQauDR4jmCDDuAcAZQBJQYACSwgVBSs8DAQMwAQMBIIM/TwMBHYMPZ4RUBg7tCv/wgZjCj5UBMYTyBBwR8CwE/PgZvBPgfgCgJ8C/AUBDAX+AoIYD4auS/bgDDoIYCn///z5CCQT5CCQUBDARICv6CCOwMfPgKkeAoabCvBmBG4U/MwQCBVYUfAQMHB4ICCPgMH4BjC/+D+E/CQICB/kPYIJmBv+DLIJcBEYKxBDAOP/AYDQQIYDPgPDDAShCDAauN/75CAoRjD/1/EgISCFoKbC/+BAocDfIKncg4wCSwQqDKIStCAoRPCOwYLENAR8DfwR8CDAf/+YYE+AYDg/gn4YCgHAEAJEDZ4ITDHAImDHASJEVwYXCLAd/DAhLCDATIDGIQGBTYk/GwQZCJQYyBYwRlDAokfDAkDSoYAYIYpvBHoYFB/kBA4J1CgJFBMQXAv5ICDAMfH4KUB/kHPgJ7CgJ8BRwOfDAIzB/+HDAcf8P+DAQCBv/nGIIbBWoSnCw7HDDAK0Dg/wHIIeBJoI5BSwU/HIK6ChBMCVAiiFn6bbPwTBEG4Z3CBgYFCKAIFDHwYFCCQQFCCQV/AoIlCLYP1Z4SHB/EfY4J0BTYbHCFoI8Ev4rBv/H/E/SoMPTYMfSoXwGQIxCnC0EgjuDKIQSBDwIABHII9BAAISBKwQSCXQSuCBYgAXaQpJBIQY8HGwimEDwQYLJIaSCDAgXBgauBh4XBg52BgaMBh4aCXwLHE8CPDj/7AoIbBTQRMDAoTgEKQZKBAoYYCJYYFFPgK5Dg5pEgB7EADMD+EPFgQ+Bh4nCRIPvOQJdEPgZXEMYZ8CCQhQB//zOwIkBBQN/EoP/g/8HAU/wP/gYYBBAN/4AYBBAMf+E/DAN/JIMfDAMf84xGVAQxCJQ7gCMYSXC//xZoQlB/E/AoRJBgIFCgEMVDsPbIY+CAoowDWgJbBWgbnEfIpjBCQauC4FgKwP+R4N8DwUD/t/CQKxBCYKuC8AgBSoX4H4KVC/w/BJgV/4KVDcAZFBCASbEAohEDMYZdEv4FEZwIFDgF+VDsHZokH+KJDgf8PAKcDz57BTgXvUQcP+YYGJQkPKIcOgIkDABQ'))),
    46,
    atob("DBkiGhobHxkbHBsbDQ=="),
    50 | 65536
  );
};

Graphics.prototype.setFontDarumadropOneRegular_small = function () {
  // Actual height 15 (16 - 2)
  return this.setFontCustom(
    E.toString(require('heatshrink').decompress(atob('AAcwgEHwAECAAkHgEB/EAv8An/Ag/wgP8gEfC4PgC4oVD8EP/8A//wj8PgPwAgWA/PwBwfgg4lCEAegkEOg+B8/4j//wP/Agf8F4JKBAAlwuEPx4xB/Eej4dHh/nwF4NoeAuEeg8B814jnnCYN4DAZUBJ4PzNwsD+BZBKwKBBAgMIAQM//ED/+AAgMAvCmHj/hgP+nEf8eB904jw2B9/wjiuBg42DgQCB/wsBSoQdBJQPHgff+EZHYMPDAN8QwqmC4DRCj0BgPhNARtDFgIBBhzzEA4J8DCYM4jnzXomABwMHxg2FvxCBQwUQj1/XoRtCd4MPRAITBUgu8NoPAAgQABA'))),
    46,
    atob("BQoNCgoLDAoLCwsLBQ=="),
    20 | 65536
  );
};

// returns the temperature from weather json, if weather is provided trough 
//android/ios .. if no temperature is available, it wont be displayed.
//(returns empty string).
function getTemperature() {
  try {
    var weatherJson = storage.readJSON('weather.json');
    var weather = weatherJson.weather;
    return "Temp: " + Math.round(weather.temp - 273.15);
  } catch (ex) {
    return "";
  }
}

const storage = require('Storage');
require("Font8x16").add(Graphics);

var IMAGEWIDTH = 176;
var IMAGEHEIGHT = 176;
var energySave = false;
var batteryLvl = E.getBattery() + "%";
var temperature = getTemperature();

// timeout used to update every minute
var drawTimeout;

// schedule a draw for the next minute
function queueDraw() 
{
  if (drawTimeout) clearTimeout(drawTimeout);
  drawTimeout = setTimeout(function () 
  {
    drawTimeout = undefined;
    draw();
  }, (energySave == true ? 60000 : 1000) - (Date.now() % (energySave == true ? 60000 : 1000)));
}


function draw() {
  
  // sometimes, when gadgetbridge sends a message, the locked event is not thrown after the messages was displayed.
  // this checks the lock state manually and set the energysave.
  if (!energySave && Bangle.isLocked()) { energySave=true; }

  var date = new Date();
  var x = 10;
  var y = 2;

  g.reset();

  //draw main background image
  g.drawImage(getKanagawa(), 0, 0);

  // only update the batterylvl and temperature every 30 seconds or every minute if energysave is on
  if (date.getSeconds() % 30 == 0) 
  {
    batteryLvl = E.getBattery() + "%";
    temperature = getTemperature();
  }

  g.setFont("8x16");
  g.drawString(temperature, 4, g.getHeight() - 40);
  g.drawString(batteryLvl, g.getWidth() - g.stringWidth(batteryLvl) - 2, y);

  // work out locale-friendly date/time
  var h = date.getHours();
  var m = date.getMinutes();
  var s = date.getSeconds();

  var timeStr = h.toString().padStart(2, 0) + ':' + m.toString().padStart(2, 0);
  var timeStr2 = s.toString().padStart(2, 0);

  var dateStr = require("locale").date(new Date(), 1);
  dateStr = dateStr.replace(new RegExp('/', 'g'), '.');

  var nameOfCurrentDay = require("locale").dow(date, 0).toUpperCase();

  //---Hour and minute---
  g.setColor("#000000");
  g.setFont("DarumadropOneRegular");
  g.drawString(timeStr, x, y);

  // ---Seconds---
  x += 2 + g.stringWidth(timeStr);
  y += 24;

  //only print seconds if screen is active and not locked
  if (!energySave) {
    g.setFont("DarumadropOneRegular_small");
    g.drawString(timeStr2, x, y);
  }

  // ---draw date---
  y += 45;
  g.setColor("#000000");
  g.setFont("8x16");
  g.drawString(nameOfCurrentDay, 65, y);
  y += 15;
  g.drawString(dateStr, 65, y);

  queueDraw();
}


// Stop updates when LCD is off, restart when on
Bangle.on('lock', on => {
  if (on) {
    energySave = true;
  }
  else {
    energySave = false;
  }
  draw();
});

g.clear();
draw();

// Show launcher when middle button pressed
Bangle.setUI("clock");
Bangle.loadWidgets();
try {
  require("widget_utils").swipeOn(); // hide widgets, make them visible with a swipe
}
catch (ex) {
  require("widget_utils").hide();
}
